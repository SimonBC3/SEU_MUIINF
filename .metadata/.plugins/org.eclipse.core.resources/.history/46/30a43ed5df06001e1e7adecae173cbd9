/*
 * tasks.c
 *
 *  Created on: May 17, 2023
 *      Author: sbrot
 */

#include "tasks.h"
#include "HW.h"
#include "semphr.h"

//static SemaphoreHandle_t xSemIP = NULL;

int ip_status;

void Task_WIFI( void *pvParameters ) {
	/*for(;;)
	  {
		//xSemaphoreTake(xSemIP,100000);
		int ip_status = checkIP();
		{int c;for (c = 0; c < 10000000; c++);}
		if (ip_status == 0) {
			config_WIFI();
		} else {
			//xSemaphoreGive(xSemIP);
		}
	    osDelay(1000);
	  }*/
}
void Task_Send( void *pvParameters ) {
		//xSemaphoreTake(xSemIP, 1000);
		//sendHTTP();
	    //osDelay(10000);
	    //xSemaphoreGive(xSemIP);
}
void Task_Receive( void *pvParameters ) {}

void CONFIGURACION_INICIAL(void){
 BaseType_t res_task;
 res_task=xTaskCreate(Task_HW,"Task_HW",2048,NULL,NORMAL_PRIORITY,NULL);
 		if( res_task != pdPASS ){
 				printf("PANIC: Error al crear Tarea HW\r\n");
 				fflush(NULL);
 				while(1);
 		}
/*
 res_task=xTaskCreate(Task_WIFI,"WIFI",1024,NULL,NORMAL_PRIORITY ,NULL);
 			if( res_task != pdPASS ){
 					printf("PANIC: Error al crear Tarea WIFI\r\n");
 					fflush(NULL);
 					while(1);
 			}

 res_task=xTaskCreate(Task_Send,"SEND",1024,NULL,NORMAL_PRIORITY ,NULL);
 			 if( res_task != pdPASS ){
 				 printf("PANIC: Error al crear Tarea SEND\r\n");
 				 fflush(NULL);
 				 while(1);
 			 }
*/
}
